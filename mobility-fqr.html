<!DOCTYPE html>
<html lang="en"><head>
<script src="mobility-fqr_files/libs/clipboard/clipboard.min.js"></script>
<script src="mobility-fqr_files/libs/quarto-html/tabby.min.js"></script>
<script src="mobility-fqr_files/libs/quarto-html/popper.min.js"></script>
<script src="mobility-fqr_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="mobility-fqr_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="mobility-fqr_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="mobility-fqr_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="mobility-fqr_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.489">

  <meta name="author" content="Le Wang">
  <title>A Functional Quantile Regression Approach to Estimating Intergenerational Mobility</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="mobility-fqr_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="mobility-fqr_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="mobility-fqr_files/libs/revealjs/dist/theme/quarto.css">
  <link href="mobility-fqr_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="mobility-fqr_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="mobility-fqr_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="mobility-fqr_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="mobility-fqr_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="mobility-fqr_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-color="rgb(134,31,65)" class="center">
    <h1 class="title">A Functional Quantile Regression Approach to Estimating Intergenerational Mobility</h1>
        <p class="author">Le Wang</p>
        <p class="institute">Virginia Tech</p>
      </section>
<section class="slide level2">


</section>
<section>
<section id="is-it-a-good-fit" class="title-slide slide level1 center">
<h1>Is it a good fit?</h1>

</section>
<section id="my-question" class="slide level2">
<h2>My Question</h2>
<div class="fragment">
<p><img data-src="https://cdn.mathpix.com/snip/images/IThiRtiy_AfV3uWtRQg1Oja1RIwKl_S4T_X20jLuyag.original.fullsize.png"></p>
</div>
<div class="fragment">
<p><img data-src="https://cdn.mathpix.com/snip/images/94jgymXzAA5r7wAP1wWvPn0pv6Z5P-8FcZN1OIu1Ql8.original.fullsize.png"></p>
</div>
</section></section>
<section>
<section id="evolution-of-the-idea-step-012" class="title-slide slide level1 center">
<h1>Evolution of the Idea: Step 0,1,2</h1>

</section>
<section id="step-0-the-norm" class="slide level2">
<h2>Step 0: The norm</h2>
<blockquote>
<p>The most widely used approach to studying intergenerational income mobility is to estimate the degree of income persistence across generations. When intergenerational income persistence is very high, then this implies that income mobility is low. In the economics literature, the most commonly used measure is the IGE. – Mazumder (2019)</p>
</blockquote>
<p><span class="math display">\[
Y = \alpha + \beta X + \epsilon
\]</span> where <span class="math inline">\(Y\)</span> is child <span class="blue">permanent</span> income and <span class="math inline">\(X\)</span> is parental <span class="blue">permanent</span> income.</p>
<p>Typically, <span class="math inline">\(Y\)</span> and <span class="math inline">\(X\)</span> are multiyear time averages of child and parental incomes over certain ages, respectively.</p>
</section>
<section id="step-0-the-norm-mazumder-2019" class="slide level2 smaller">
<h2>Step 0: The norm (Mazumder, 2019)</h2>
<table>
<colgroup>
<col style="width: 10%">
<col style="width: 5%">
<col style="width: 77%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Study</th>
<th style="text-align: center;">Data</th>
<th style="text-align: center;">Description of Method</th>
<th style="text-align: center;">Estimate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Solon (1992).</td>
<td style="text-align: center;">PSID</td>
<td style="text-align: center;">Uses a <span class="red"><strong>5-year</strong></span> average of annual earnings of fathers and a single year of sons’ earnings</td>
<td style="text-align: center;">0.41</td>
</tr>
<tr class="even">
<td style="text-align: center;">Zimmerman (1992).</td>
<td style="text-align: center;">NLS</td>
<td style="text-align: center;">Uses a <span class="red"><strong>4-year</strong></span> average of fathers’ hourly wage and a single year of sons’ hourly wage</td>
<td style="text-align: center;">0.39</td>
</tr>
<tr class="odd">
<td style="text-align: center;">zimmerman (1992).</td>
<td style="text-align: center;">NLS</td>
<td style="text-align: center;">Uses a <span class="red"><strong>4-year</strong></span> average of fathers’ annual earnings and a single year of sons’ annual earnings</td>
<td style="text-align: center;">0.54</td>
</tr>
<tr class="even">
<td style="text-align: center;">Mazumder (2005b).</td>
<td style="text-align: center;">SIPP-SSA</td>
<td style="text-align: center;">Uses a <span class="red"><strong>16-year</strong></span> average of annual earnings of fathers and a 4-year average of sons’ earnings</td>
<td style="text-align: center;">0.61</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Mazumder (2005a).</td>
<td style="text-align: center;">PSID</td>
<td style="text-align: center;">Uses a <span class="red"><strong>5-year</strong></span> average of annual income of fathers and a single year of sons’ income as in Solon (1992). but implements HEIV</td>
<td style="text-align: center;">0.62</td>
</tr>
</tbody>
</table>
</section>
<section id="step-0-the-norm-limitations-1" class="slide level2">
<h2>Step 0: The norm – Limitations (1)</h2>
<ol type="1">
<li>Conceptually, what is the <span class="blue"><strong>permanent</strong></span> income? It is essentially <span class="red"><strong>latent</strong></span>. The time average is really an attempt to measure such variable, with the implicit assumption that</li>
</ol>
<div class="fragment">
<p><em>Every observed annual income is a measurement of the permanent income, with <span class="red">classical</span> error</em></p>
</div>
</section>
<section id="step-0-the-norm-limitations-2" class="slide level2">
<h2>Step 0: The norm – Limitations (2)</h2>
<ol start="2" type="1">
<li>Why <span class="red">linear</span>? Why <span class="red">mean</span>?</li>
</ol>
<div class="fragment">
<ol type="1">
<li class="fragment"><p><span class="blue"><strong>Poverty Trap</strong></span> Early seminal models due to Becker and Tomes (1979) and Loury (1976) highlight family income as a key constraining factor in human capital formation, which implies a strong persistence in the lower tail of the distribution and gives rise to poverty traps.</p></li>
<li class="fragment"><p>Focusing on provision of public goods, role model, and peer effects, social theories of intergenerational mobility mimic the Becker-Tomes environment that is <span class="blue"><strong>highly nonlinear</strong></span> and can also produce <span class="blue"><strong>poverty traps</strong></span> (Durlauf, 1996b; Durlauf, 1996a). In fact, Durlauf (1996a) produces an exact threshold relationship between child and parental incomes.</p></li>
<li class="fragment"><p>By emphasizing complementarities in the production of children’s human capital, Becker et al.&nbsp;(2018) show that a strong intergenerational persistence in incomes can exist, even in the absence of credit constraints, and that mobility is low in the upper part of the income distribution; the so-called <span class="blue"><strong>affluence trap</strong></span>.</p></li>
</ol>
</div>
</section>
<section id="step-1-extension-strong-evidence-of-nonlinearity-at-the-mean" class="slide level2">
<h2>Step 1: Extension (Strong Evidence of Nonlinearity at the Mean)</h2>

<img data-src="figures/fqr02.png" class="r-stretch"></section>
<section id="step-1-extension-strong-evidence-of-depedence-at-the-distribution" class="slide level2">
<h2>Step 1: Extension (Strong Evidence of Depedence at the Distribution)</h2>

<img data-src="figures/fqr03.png" class="r-stretch"></section>
<section id="step-0-the-norm-limitations-3" class="slide level2">
<h2>Step 0: The norm – Limitations (3)</h2>
<p><span class="blue">Why</span> <span class="red">permanent</span> income at all?</p>
<ol type="1">
<li><p>Credit constraints can imply that the <span class="blue"><strong>timing</strong></span> of parental income matters for investments in children</p></li>
<li><p>the modern skills literature (e.g., Cunha and Heckman (2008)) has emphasized that the investments at one age affect the marginal value of investments at others.</p></li>
<li><p>the nature of the investments made by parents qualitatively changes across the life course. Wodtke et al.&nbsp;(2011), for example, show the relative influences of family versus neighborhood characteristics change across the life course with neighborhoods becoming more influential in adolescence. Such dynamics imply a special role of adolescent incomes in terms of the ability of parents to locate their families in higher quality neighborhoods.</p></li>
</ol>
</section>
<section id="step-1-extension-strong-evidence-of-trajectory-or-timing-effects" class="slide level2">
<h2>Step 1: Extension (Strong Evidence of Trajectory or Timing Effects)</h2>

<img data-src="figures/fqr04.png" class="r-stretch"></section>
<section id="step-2-our-paper" class="slide level2">
<h2>Step 2: Our Paper</h2>

<img data-src="figures/fqr01.png" class="r-stretch"></section></section>
<section>
<section id="our-methodology" class="title-slide slide level1 center">
<h1>Our Methodology</h1>

</section>
<section id="our-contributions" class="slide level2">
<h2>Our contributions</h2>

<img data-src="figures/fqr05.png" class="r-stretch"></section>
<section id="road-map" class="slide level2">
<h2>Road Map</h2>

<img data-src="figures/fqr06.png" class="r-stretch"></section>
<section id="road-map-1" class="slide level2">
<h2>Road Map</h2>

<img data-src="figures/fqr07.png" class="r-stretch"></section>
<section id="preliminary" class="slide level2">
<h2>Preliminary</h2>
<p>Scalar on Function Model <span class="math display">\[
Y=a+\int_0^1 X(t) \beta(t) \mathrm{d} t+\int_0^1 \int_0^1 \gamma(s, t) X(s) X(t) \mathrm{d} s \mathrm{~d} t+\epsilon .
\]</span></p>
</section>
<section id="preliminary-1" class="slide level2">
<h2>Preliminary</h2>
<p>Function on Function Model (Jin et al.&nbsp;2023) <span class="math display">\[
Y_i(r)=\int_{\mathbb{I}_x} \int_{\mathbb{I}_z} X_i(s) X_i(t) \beta(r, s, t) \mathrm{d} s \mathrm{~d} t+\epsilon_i(r), \quad r \in \mathbb{I}_y,
\]</span></p>
<p>where <span class="math inline">\(Y_i(r)\)</span> and <span class="math inline">\(\left(X_i(s), X_i(t)\right)\)</span> denote the functional response and functional covariates, respecively, and <span class="math inline">\(\mathbb{I}_y\)</span> and <span class="math inline">\(\left(\mathbb{I}_x\right)\)</span> denote their respective domains.</p>
<p><span class="blue">Functional ANOVA decomposition</span></p>
<p><span class="math display">\[
\begin{aligned}
Y_i(t)= &amp; \alpha(t)+\int_{I_x} X_i(r) \beta_x(t, r) \mathrm{d} r+\int_{I_z} Z_i(s) \beta_z(t, s) \mathrm{d} s \\
&amp; +\int_{I_z} \int_{I_z} X_i(r) Z_i(s) \beta_{x z}(t, r, s) \mathrm{d} s \mathrm{~d} r+\epsilon_i(t) .
\end{aligned}
\]</span></p>
</section>
<section id="our-methodology-model" class="slide level2">
<h2>Our Methodology: Model</h2>
<p><span class="math display">\[
Q_{Y \mid X}(\tau)=\int_0^1 \int_0^1 X(s) X(t) \beta(t, s, \tau) \mathrm{d} t \mathrm{~d} s
\]</span></p>
<p><span class="blue">ANOVA Decomposition</span></p>
<p><span class="math display">\[
\beta=\beta_c+\beta_t+\beta_s+\beta_{t, s}
\]</span></p>
<ol type="1">
<li>Main Effect</li>
<li>Individual effect</li>
<li>Interaction Effect</li>
</ol>
</section>
<section id="our-methodology-estimation" class="slide level2">
<h2>Our Methodology: Estimation</h2>
<p>The coefficient functions in our functional quantile regression model are estimated through a <span class="blue">reproducing kernel Hilbert space</span> (RKHS) approach, which is well-known to be more accurate than the FPCA approach.</p>
</section>
<section id="our-methodology-estimation-1" class="slide level2">
<h2>Our Methodology: Estimation</h2>
<p>The FPCA represents each coefficient function as the linear combination of a small number of leading FPCs.</p>
<div class="fragment">
<ol type="1">
<li class="fragment"><p>the number of leading FPCs is the only tuning parameter for controlling the smoothness of the coefficient function estimate.</p></li>
<li class="fragment"><p>Its discrete nature (e.g., you can’t choose 3.5 FPCs, only 3 or 4) is not ideal for finding the precise level of smoothing for the function estimate.</p></li>
<li class="fragment"><p>The leading FPCs are derived from the predictor function <span class="math inline">\(X_i(t)\)</span>. They are essentially estimates of the leading eigenfunctions of the covariance process of <span class="math inline">\(X_i(t)\)</span>. Although the Karhunen-Loeve Theorem guarantees the efficiency of these leading eigenfunctions in representing the predictor functions <span class="math inline">\(X_i(t)\)</span>, they may not be the best basis functions for expressing the regression coefficient functions; see, e.g., Bair et al.&nbsp;(2006, JASA) and Cai and Yuan (2012, JASA). Such inefficiency of FPCA can lead to poor numerical performance when the coefficient function is multi-dimensional; see, e.g., the numerical example in Sun, Du, Wang, and Ma (2018, JASA).</p></li>
</ol>
</div>
</section>
<section id="our-methodology-estimation-2" class="slide level2">
<h2>Our Methodology: Estimation</h2>
<p><span class="math display">\[
\tilde{\beta}(\cdot, \cdot, \tau)=\underset{\beta \in \mathcal{H}}{\arg \min } \textcolor{blue}{\colorbox{lightblue}{$\displaystyle  \frac{1}{n} \sum_{i=1}^n \rho_\tau\left\{Y_i-\alpha-\int_0^1 \int_0^1 \beta(t, s, \tau) X_i(t) X_i(s) \mathrm{d} t \mathrm{~d} s\right\}$}}+\frac{\lambda}{2} J(\beta, \beta),
\]</span></p>
<ol type="1">
<li><p><span class="math inline">\(\rho_\tau(u)=u[\tau-\mathbb{1}(u&lt;0)]\)</span> denotes the check loss function for quantile regression (QR).</p></li>
<li><p><span class="math inline">\(J(\beta, \beta)\)</span> denotes a roughness penalty functional,</p></li>
<li><p><span class="math inline">\(\lambda\)</span> denotes the tuning parameter controlling the trade off between the goodness of fit and the plausibility of the estimated slope function.</p></li>
</ol>
<p>As <span class="math inline">\(\rho_\tau\)</span> is not differentiable at 0, direct minimization through setting its derivative with respect to <span class="math inline">\(\beta\)</span> to 0 becomes <span class="red"><strong>infeasible</strong></span>.</p>
</section>
<section id="our-methodology-estimation-3" class="slide level2">
<h2>Our Methodology: Estimation</h2>
<p>We can rewrite the above as follows to gain some intuition:</p>
<p><span class="math display">\[
\hat{R}(\beta ; \tau):=\frac{1}{n} \sum_{i=1}^n \rho_\tau\left\{\epsilon_i(\theta)\right\}=\int \rho_\tau(u) \mathrm{d} \textcolor{white}{\colorbox{red}{$\displaystyle \hat{F}(u ; \beta)$}},
\]</span></p>
<p>where <span class="math inline">\(\epsilon_i(\beta)=Y_i-\int_0^1 \int_0^1 \beta(t, s, \tau) X_i(t) X_i(s) \mathrm{d} t \mathrm{~d} s\)</span> and <span class="math inline">\(\hat{F}(\cdot ; \beta)\)</span> is the corresponding empirical distribution function.</p>
<p>Since <span class="math inline">\(\hat{F}(\cdot ; \beta)\)</span> is a step function, <span class="math inline">\(\hat{R}(\beta ; \tau)\)</span> is not differentiable with respect to <span class="math inline">\(\beta\)</span>. What to do next?</p>
</section>
<section id="our-methodology-estimation-4" class="slide level2">
<h2>Our Methodology: Estimation</h2>
<p><span class="math display">\[
\hat{R}(\beta ; \tau):=\frac{1}{n} \sum_{i=1}^n \rho_\tau\left\{\epsilon_i(\theta)\right\}=\int \rho_\tau(u) \mathrm{d} \textcolor{white}{\colorbox{red}{$\displaystyle \hat{F}(u ; \beta)$}},
\]</span></p>
<p><span class="blue"><strong>Convolution-Based Method</strong>: Smoothed version</span></p>
<p><span class="math display">\[
\hat{R}_h(\beta ; \tau):=\int \rho_\tau(u) \mathrm{d} \textcolor{white}{\colorbox{red}{$\displaystyle \hat{F}_h(u ; \beta)$}}=\int \rho_\tau(u) \textcolor{blue}{\colorbox{lightblue}{$\displaystyle \hat{f}_h(u ; \beta) \mathrm{d} u$}} .
\]</span></p>
<p>where <span class="math inline">\(k_h(\cdot)=k(\frac{v/h}{h})\)</span> satisfying the usual kernel properties. <span class="math display">\[
\hat{f}_h(v ; \beta)=n^{-1} \sum_{i=1}^n k_h\left\{v-\epsilon_i(\beta)\right\} \text { for any given } \beta \in \mathcal{H}
\]</span></p>
<p><span class="math display">\[
\hat{F}_h(u ; \beta)=\int_{-\infty}^u \hat{f}_h(v ; \beta) \mathrm{d} v .
\]</span></p>
</section>
<section id="our-methodology-estimation-problem" class="slide level2">
<h2>Our Methodology: Estimation – Problem</h2>
<p><span class="math display">\[
\hat{\beta}_{h \lambda}(\cdot, \tau)=\underset{\beta \in \mathcal{H}}{\arg \min } \hat{R}_h(\beta ; \tau)+\frac{\lambda}{2} J(\beta, \beta) .
\]</span></p>
<div class="fragment">
<p><span class="blue"><strong>Penalty term:</strong></span> Ensure smoothness,</p>
<p><span class="math display">\[
\begin{aligned}
J(\beta, \beta)= &amp; \int_0^1\left[\left\{\int_0^1 \textcolor{black}{\colorbox{orange}{$\displaystyle  \frac{\partial^2}{\partial s^2} \beta(t, s, \tau)$}} \mathrm{d} t\right\}^2+\left\{\int_0^1 \textcolor{black}{\colorbox{orange}{$\displaystyle \frac{\partial^3}{\partial t \partial s^2} \beta(t, s, \tau)$}} \mathrm{d} t\right\}^2\right] \textcolor{blue}{\colorbox{lightblue}{$\displaystyle \mathrm{d} s$}} \\
&amp; +\int_0^1\left[\left\{\int_0^1 \textcolor{black}{\colorbox{orange}{$\displaystyle \frac{\partial^2}{\partial t^2} \beta(t, s, \tau)$}} \mathrm{d} s\right\}^2+\left\{\int_0^1 \textcolor{black}{\colorbox{orange}{$\displaystyle \frac{\partial^3}{\partial t^2 \partial s} \beta(t, s, \tau)$}} \mathrm{d} s\right\}^2\right] \textcolor{blue}{\colorbox{lightblue}{$\displaystyle \mathrm{d} t$}} \\
&amp; +\int_0^1 \int_0^1\left\{\textcolor{black}{\colorbox{orange}{$\displaystyle \frac{\partial^4}{\partial t^2 \partial s^2} \beta(t, s, \tau)$}}\right\}^2 \textcolor{blue}{\colorbox{lightblue}{$\displaystyle \mathrm{~d} t \mathrm{~d} s$}} .
\end{aligned}
\]</span></p>
<p>This functional is a natural extension of the roughness penalty <span class="math inline">\(\int_0^1\left\{\beta^{(2)}(t)\right\}^2 \mathrm{~d} t\)</span> used in univariate smoothing splines.</p>
</div>
</section>
<section id="our-methodology-estimation-problem-1" class="slide level2">
<h2>Our Methodology: Estimation – Problem</h2>
<p>Why These Specific Derivatives?</p>
<ul>
<li><p>Second Derivatives ( <span class="math inline">\(\left.\frac{\partial^2}{\partial t^2}, \frac{\partial^2}{\partial s^2}\right)\)</span> :</p>
<ul>
<li>Reflect the curvature of <span class="math inline">\(\beta\)</span> in each direction.</li>
<li>Penalizing them encourages linearity or gentle curves rather than sharp bends.</li>
</ul></li>
<li><p>Third Derivatives <span class="math inline">\(\left(\frac{\partial^3}{\partial t^2 \partial s}, \frac{\partial^3}{\partial t \partial s^2}\right)\)</span> :</p>
<ul>
<li>Capture how the curvature in one variable changes with the other variable.</li>
<li>Penalizing them controls the rate at which the curvature itself changes across the other dimension.</li>
</ul></li>
<li><p>Fourth Derivative <span class="math inline">\(\left(\frac{\partial^4}{\partial t^2 \partial s^2}\right)\)</span> :</p>
<ul>
<li>Measures the complexity of interactions between <span class="math inline">\(t\)</span> and <span class="math inline">\(s\)</span>.</li>
<li>Penalizing it ensures that <span class="math inline">\(\beta\)</span> does not have overly complex surface twists.</li>
</ul></li>
</ul>
</section>
<section id="our-methodology-estimation-solution" class="slide level2">
<h2>Our Methodology: Estimation – Solution</h2>
<p><strong>Reproducing Kernel Hilbert Space (RKHS)</strong></p>
<ul>
<li>RKHS is a Hilbert space of functions where evaluation at any point can be represented as an inner product with a kernel function.</li>
<li>The kernel function <span class="math inline">\(K\)</span> plays a central role, as it encapsulates the properties of the function space.</li>
</ul>
<div class="fragment">
<p><strong>Decomposition of RKHS</strong> The RKHS <span class="math inline">\(\mathcal{H}\)</span> can be decomposed into two orthogonal subspaces:</p>
<ul>
<li class="fragment">Null Space <span class="math inline">\(\mathcal{H}_0\)</span> : Functions that are <span class="red">not penalized</span> by the smoothing penalty.</li>
<li class="fragment">Penalized Space <span class="math inline">\(\mathcal{H}_1\)</span> : Functions that are <span class="red">penalized</span> to enforce smoothness.</li>
</ul>
</div>
<div class="fragment">
<p>Each subspace has its own reproducing kernel: (reproducing kernel, and it reproduces the value of <span class="math inline">\(f(x)\)</span> via the inner product.)</p>
<ul>
<li class="fragment"><span class="math inline">\(K_0\)</span> : The reproducing kernel for <span class="math inline">\(\mathcal{H}_0\)</span>.</li>
<li class="fragment"><span class="math inline">\(K_1\)</span> : The reproducing kernel for <span class="math inline">\(\mathcal{H}_1\)</span>.</li>
</ul>
</div>
</section>
<section id="our-methodology-estimation-solution-1" class="slide level2">
<h2>Our Methodology: Estimation – Solution</h2>
<p><span class="blue"><span class="math inline">\(J(\beta, \beta)\)</span> is actually a squared semi-norm in <span class="math inline">\(\mathcal{H}\)</span>.</span> <span class="math inline">\(J(\beta, \beta)=\|\beta\|_{K_1}^2=\left\|\beta_1\right\|_{K_1}^2\)</span>.</p>
<p>The null space of <span class="math inline">\(J, \mathcal{H}_0=\{h \in \mathcal{H}: J(h, h)=0\}\)</span>, is a finite dimensional space.</p>
<p>Let <span class="math inline">\(\mathcal{H}_1\)</span> denote the orthonormal complement of <span class="math inline">\(\mathcal{H}_0\)</span> in <span class="math inline">\(\mathcal{H}\)</span>. Therefore, for any <span class="math inline">\(\beta \in \mathcal{H}\)</span>, there exist unique <span class="math inline">\(\beta_0\)</span> and <span class="math inline">\(\beta_1\)</span> in <span class="math inline">\(\mathcal{H}_0\)</span> and <span class="math inline">\(\mathcal{H}_1\)</span> such that <span class="math inline">\(\beta=\beta_0+\beta_1\)</span>. Let <span class="math inline">\(K_0\)</span> and <span class="math inline">\(K_1\)</span> denote the reproducing kernel of <span class="math inline">\(\mathcal{H}_0\)</span> and <span class="math inline">\(\mathcal{H}_1\)</span>, respectively. Then we have</p>
</section>
<section id="our-methodology-estimation-solution-2" class="slide level2">
<h2>Our Methodology: Estimation – Solution</h2>
<p>With <span class="blue">representer theorem</span>, the function <span class="math inline">\(\beta(t, s, \tau)\)</span> can be expressed in terms of finite basis functions and coefficients as follows:</p>
<p><span class="math display">\[
\beta(t, s, \tau)=\boldsymbol{d}^{\top} \psi(t, s)+\boldsymbol{c}^{\top} \xi(t, s),
\]</span></p>
<ul>
<li>d: A finite-dimensional vector of coefficients associated with basis functions <span class="math inline">\(\psi(t, s)\)</span>.</li>
<li><span class="math inline">\(\psi(t, s)\)</span> : A vector of predefined basis functions.</li>
<li><span class="math inline">\(\boldsymbol{c}\)</span> : A finite-dimensional vector of coefficients associated with data-dependent functions <span class="math inline">\(\xi(t, s)\)</span>.</li>
<li><span class="math inline">\(\xi(t, s)\)</span> : Functions derived from the data and the RKHS kernels.</li>
</ul>
</section>
<section id="our-methodology-estimation-solution-3" class="slide level2">
<h2>Our Methodology: Estimation – Solution</h2>
<p>By substituting <span class="math inline">\(\beta(t, s, \tau)\)</span> into the objective function, the <span class="red">infinite-dimensional</span> minimization problem becomes a <span class="blue">finite-dimensional</span> one:</p>
<p><span class="math display">\[
\begin{aligned}
M(\boldsymbol{d}, \boldsymbol{c} ; \tau) &amp; =\frac{1}{n} \sum_{i=1}^n g_h\left\{Y_i-\sum_{l=1}^4 d_l \int_0^1 X_i(t) X_i(s) \psi_l(t, s) d t d s\right. \\
&amp; \left.-\sum_{j=1}^{n^2+4 n} c_j \int_0^1 \int_0^1 X_i(t) X_i(s) \xi_j(t, s) d t d s, \tau\right\}+\frac{\lambda}{2} \boldsymbol{c}^{\top} \boldsymbol{\Xi} \boldsymbol{c}
\end{aligned}
\]</span></p>
<ul>
<li><span class="math inline">\(M(\boldsymbol{d}, \boldsymbol{c} ; \tau)\)</span> : The finite-dimensional objective function to be minimized.</li>
<li><span class="math inline">\(g_h(u, \tau)\)</span> : A smoothed version of the quantile loss function, defined as: <span class="math display">\[
g_h(u, \tau)=\int_{\mathbb{R}} \rho_\tau(v) k_h(v-u) d v
\]</span> where <span class="math inline">\(\rho_\tau(v)\)</span> is the quantile loss function and <span class="math inline">\(k_h\)</span> is a kernel function with bandwidth <span class="math inline">\(h\)</span>.</li>
<li><span class="math inline">\(\boldsymbol{\Xi}\)</span> : A matrix representing the penalty term associated with <span class="math inline">\(\boldsymbol{c}\)</span>, with entries <span class="math inline">\(\left\langle\xi_i(\cdot, \cdot), \xi_j(\cdot, \cdot)\right\rangle_{\mathcal{H}_1}\)</span>.</li>
</ul>
</section>
<section id="our-methodology-algorithm" class="slide level2">
<h2>Our Methodology: Algorithm</h2>
<ul>
<li><span class="blue">Gradient Descent Algorithm:</span> By iteratively updating <span class="math inline">\(\boldsymbol{d}\)</span> and <span class="math inline">\(\boldsymbol{c}\)</span> using the computed gradients, we can find the coefficients that minimize the objective function <span class="math inline">\(M(\boldsymbol{d}, \boldsymbol{c} ; \tau)\)</span>.</li>
</ul>
</section></section>
<section>
<section id="simulation-exericse" class="title-slide slide level1 center">
<h1>Simulation Exericse</h1>

</section>
<section id="simulation-design" class="slide level2">
<h2>Simulation Design</h2>
<p><span class="math display">\[
Y=\int_0^1 \int_0^1 X(t) X(s) \beta_0(t, s) \mathrm{d} t \mathrm{~d} s+\epsilon
\]</span></p>
<ol type="1">
<li><p><span class="math inline">\(X(t)=\sum_{j=1}^{50}(-1)^{j+1} j^{-1} \zeta_j \varphi_j(t)\)</span>, where <span class="math inline">\(\zeta_1, \ldots, \zeta_{50}\)</span> are i.i.d uniformly distributed on <span class="math inline">\([-\sqrt{3}, \sqrt{3}], \varphi_1(t)=1\)</span> and <span class="math inline">\(\varphi_j(t)=\sqrt{2} \cos ((j-1) \pi t)\)</span> for <span class="math inline">\(t \in[0,1]\)</span>. This design for <span class="math inline">\(X\)</span> is commonly adopted in the literature of FDA</p></li>
<li><p><span class="math inline">\(\beta_0(t, s)=\exp \{-(t+s)\}\)</span>, and both normal and student-t distribution with 3 degrees of freedom are considered for <span class="math inline">\(\epsilon\)</span>.</p></li>
<li><p>We consider two signal-to-noise (SNR) levels, <span class="math inline">\(10\)</span> and <span class="math inline">\(5\)</span>, for both distributions for <span class="math inline">\(\epsilon\)</span>.</p></li>
<li><p>Under each simulation design, we generate <span class="math inline">\(n=100\)</span> independent copies of <span class="math inline">\((X, Y)\)</span> in each simulation run to estimate <span class="math inline">\(\beta_0\)</span>.</p></li>
<li><p><span class="math inline">\(200\)</span> independent simulation runs are conducted.</p></li>
</ol>
</section>
<section id="simulation-results" class="slide level2">
<h2>Simulation Results</h2>
<p><span class="math display">\[
\operatorname{MISE}=\frac{1}{200} \sum_{k=1}^{200} \int_0^1 \int_0^1\left\{\left(\hat{\beta}_k(t, s, \tau)-\beta_0(t, s, \tau)\right\}^2 \mathrm{~d} t \mathrm{~d} s\right.
\]</span></p>
<p>where <span class="math inline">\(\hat{\beta}_k(t, s, \tau)\)</span> denotes the estimated coefficient function from the <span class="math inline">\(k\)</span> th simulation run.</p>
</section>
<section id="simulation-results-1" class="slide level2">
<h2>Simulation Results</h2>

<img data-src="https://cdn.mathpix.com/snip/images/MZPieKjiTn96gRDVGfsTDeeR2rfhahSv7sJfQdg7lS0.original.fullsize.png" class="r-stretch"><ol type="1">
<li><p>When stronger signals (relative to the noise) are present, our algorithm yields more accurate estimates of the slope function.</p></li>
<li><p>This comparison demonstrates the advantage of quantile regression in the presence of <span class="blue">heavy-tailed responses</span>. The comparison between the normal error and the <span class="math inline">\(t_3\)</span> error indicates the performance of quantile regression is robust to extremely large observations in the response. In contrast, the performance of mean regression suffers from heavy-tailed responses.</p></li>
</ol>
</section>
<section id="simulation-results-2" class="slide level2">
<h2>Simulation Results</h2>

<img data-src="https://cdn.mathpix.com/snip/images/28iLlsguSbdQoR4qwTMqfzGPPWo68CJMSJ0Kb0wpQ80.original.fullsize.png" class="r-stretch"><p>Overall speaking, <span class="math inline">\(\hat{\beta}(t, s)\)</span> captures the main trend of <span class="math inline">\(\beta_0(t, s)\)</span>, though it is slightly flatter. A possible reason is that our algorithm selects a slightly larger <span class="math inline">\(\lambda\)</span> when implementing the estimation procedure.</p>
</section>
<section id="simulation-results-3" class="slide level2">
<h2>Simulation Results</h2>

<img data-src="https://cdn.mathpix.com/snip/images/A8Bm1NZX-oh9qGNLj6uHZhaYsjdsIX_1gTAKKXT7Cwo.original.fullsize.png" class="r-stretch"></section></section>
<section>
<section id="empirical-example" class="title-slide slide level1 center">
<h1>Empirical Example</h1>

</section>
<section id="panel-study-of-income-dynamics" class="slide level2 smaller">
<h2>Panel Study of Income Dynamics</h2>
<p>The longest running longitudinal household survey in the world</p>
<p><strong>Introduction</strong></p>
<ul>
<li>Conducted by the Survey Research Center (SRC) at the University of Michigan</li>
<li>Started in 1968 and continued for over 50 years</li>
<li>Since 1991, it has covered all 50 states in the United States</li>
</ul>
<p><strong>Core Sample</strong></p>
<ul>
<li>The Survey Research Center (the “SRC sample”): a nationally representative sample of 2,930 families</li>
<li>The Survey of Economic Opportunity (the “SEO sample”): an over-sample of 1,872 low income families</li>
</ul>
</section>
<section id="psid-sample-frame" class="slide level2 smaller">
<h2>PSID Sample Frame</h2>

<img data-src="https://cdn.mathpix.com/snip/images/332BHz-Kzvuwenr9xynJITu4Ri6GPHo4zZp7NRMxqHg.original.fullsize.png" class="r-stretch"></section>
<section id="data" class="slide level2">
<h2>Data</h2>
<ul>
<li>Sample: PSID SRC sample</li>
<li>Sample Size: 827 families with 1166 children born from 1967-1977</li>
<li>Parental Income: parental family income from a child’s age 0 to 19</li>
<li>Children’s Permanent Income: average family income of the child from ages 30 to 35</li>
</ul>
<p>Notes: Family income is the total income of the household head and their spouse, including income from labor, assets, and transfers.</p>
</section>
<section id="still-work-in-progress" class="slide level2">
<h2>Still Work In Progress</h2>

<img data-src="https://cdn.mathpix.com/snip/images/5cU2UDVU0TeLfbX8hICDmdkZ0DkDH2aNFIDYAuMIgds.original.fullsize.png" class="r-stretch"><div class="fragment">
<p>Economic ladder: Role Model + Upward Mobility</p>
</div>
</section></section>
<section id="the-end" class="title-slide slide level1 center">
<h1>The End</h1>
<div class="footer footer-default">

</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="mobility-fqr_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="mobility-fqr_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="mobility-fqr_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="mobility-fqr_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="mobility-fqr_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="mobility-fqr_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="mobility-fqr_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="mobility-fqr_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="mobility-fqr_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="mobility-fqr_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="mobility-fqr_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>